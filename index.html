<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WTA Tennis Match EDA Dashboard</title>

  <!-- Link stylesheet -->
  <link rel="stylesheet" href="style.css" />

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- PapaParse (CSV parser) -->
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>
</head>

<body>
  <!-- Header -->
  <header>
    <h1>WTA Tennis EDA Dashboard</h1>
    <p class="subtitle">Exploratory Data Analysis of Women's Tennis Matches (2006–2025)</p>
  </header>

  <!-- Navigation Tabs -->
  <nav>
    <button class="tab active" data-tab="overview">Overview</button>
    <button class="tab" data-tab="distributions">Distributions</button>
    <button class="tab" data-tab="correlations">Correlations</button>
    <button class="tab" data-tab="players">Players</button>
    <button class="tab" data-tab="surfaces">Surfaces</button>
  </nav>

  <!-- Main content -->
  <main>

    <!-- === Overview Section === -->
    <section id="overview" class="tab-content active">
      <h2>Dataset Overview</h2>

      <div id="datasetInfo" class="dataset-info">Loading dataset summary...</div>

      <p>
        This dataset contains records of Women's Tennis Association (WTA) matches played between 2006 and 2025.  
        Each row represents a single match. <strong>Player&nbsp;1</strong> is always the <strong>favourite</strong> 
        (lower ranking or lower bookmaker odds).
      </p>

      <!-- Column descriptions -->
      <table class="info-table">
        <thead>
          <tr><th>Column</th><th>Description</th></tr>
        </thead>
        <tbody>
  <tr><td><strong>Tournament</strong></td><td>Name of the tournament <span class="badge optional">optional</span></td></tr>
  <tr><td><strong>Date</strong></td><td>Match date (used to derive <code>year</code>)</td></tr>
  <tr><td><strong>Court</strong></td><td>Indoor / Outdoor</td></tr>
  <tr><td><strong>Surface</strong></td><td>Surface type: hard, clay, grass</td></tr>
  <tr><td><strong>Round</strong></td><td>Tournament stage (e.g., R32, QF, SF, F)</td></tr>

  <tr><td><strong>Best of</strong></td><td>Sets per match (WTA is almost always Bo3) <span class="badge optional">optional</span></td></tr>

  <tr><td><strong>Player_1 / Player_2</strong></td><td>Competitor names — Player_1 is the favourite <span class="badge optional">optional (ID)</span></td></tr>
  <tr><td><strong>Winner</strong></td><td>Winner name (duplicates target) <span class="badge leakage">leakage</span></td></tr>

  <tr><td><strong>Rank_1 / Rank_2</strong></td><td>Official WTA rankings (lower is better)</td></tr>
  <tr><td><strong>Pts_1 / Pts_2</strong></td><td>WTA ranking points</td></tr>
  <tr><td><strong>Odd_1 / Odd_2</strong></td><td>Bookmaker odds (smaller ⇒ higher win probability)</td></tr>

  <tr><td><strong>Score</strong></td><td>Final score (reveals outcome) <span class="badge leakage">leakage</span> <span class="badge optional">optional</span></td></tr>

  <tr><td><strong>y</strong></td><td>Target: 1 = favourite (Player_1) won, 0 = lost</td></tr>
  <tr><td><strong>year</strong></td><td>Calendar year (derived from Date) <span class="badge derived">derived</span> <span class="badge optional">optional</span></td></tr>

  <tr><td><strong>rank_diff</strong></td><td>Rank_2 − Rank_1 <span class="badge derived">derived</span></td></tr>
  <tr><td><strong>pts_diff</strong></td><td>Pts_1 − Pts_2 <span class="badge derived">derived</span></td></tr>
  <tr><td><strong>odd_diff</strong></td><td>Odd_2 − Odd_1 <span class="badge derived">derived</span></td></tr>
</tbody>

</table>

      <div class="card">
        <canvas id="overviewChart"></canvas>
      </div>
    </section>

    <!-- === Distributions === -->
    <section id="distributions" class="tab-content">
      <h2>Feature Distributions</h2>
      <p>Explore how numeric variables are distributed across all WTA matches.</p>
      <div id="featureButtons" class="feature-buttons"></div>
      <div class="card"><canvas id="distChart"></canvas></div>
    </section>

    <!-- === Correlations === -->
    <section id="correlations" class="tab-content">
      <h2>Feature Correlations</h2>
      <p>Correlation matrix for numeric features. Green = positive, Red = negative.</p>
      <div class="card" id="corrContainer"></div>
    </section>

    <!-- === Players === -->
    <section id="players" class="tab-content">
      <h2>Player Statistics</h2>
      <p>Top 10 players by number of matches and their win rates.</p>
      <div class="card"><canvas id="topPlayersChart"></canvas></div>
      <div class="card"><canvas id="winRatePlayersChart"></canvas></div>
    </section>

    <!-- === Surfaces === -->
    <section id="surfaces" class="tab-content">
      <h2>Surface Analysis</h2>
      <p>Distribution of matches and favourite win rate by surface type.</p>
      <div class="card"><canvas id="surfaceDistChart"></canvas></div>
      <div class="card"><canvas id="surfaceWinChart"></canvas></div>
    </section>

  </main>

  <!-- Script -->
  <script src="charts.js"></script>

  <script>
    // Tab switching logic
    document.querySelectorAll('.tab').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.tab').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(sec => sec.classList.remove('active'));
        btn.classList.add('active');
        document.getElementById(btn.dataset.tab).classList.add('active');
      });
    });
  </script>
</body>
</html>
